<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="viewport" content="width=device-width, initial-scale=1" />
<title>Thinking in Java chapter5 笔记和习题</title>
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="emacsun" />
<link rel="stylesheet" type="text/css" href="../../css/worg.css"  />
<a id="home" href="../../index.html"><img src="../../img/assets/home.png" ></a>
<a id="pdf"  href="./TIJ-ch05.pdf"><img src="../../img/assets/pdf.png"></a>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Thinking in Java chapter5 笔记和习题</h1>
<div id="table-of-contents">
<h2>目录</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline1">1. 简介</a></li>
<li><a href="#orgheadline2">2. 只有 <code>boolean</code> 有真假</a></li>
<li><a href="#orgheadline3">3. 注意 <code>a=b</code> 问题</a></li>
<li><a href="#orgheadline4">4. Random的导入</a></li>
<li><a href="#orgheadline5">5. <code>foreach</code></a></li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1"><span class="section-number-2">1</span> 简介</h2>
<div class="outline-text-2" id="text-1">
<p>
<b>Controlling Execution</b> 这一章涉及的大多知识点和 <code>C/C++</code> 中已经学过的类似，仅仅有一小部分不同，比如去掉了饱受争议的 <code>goto</code> 语句。本文记录控制语句学习过程中需要记录的知识点。
</p>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-2">
<h2 id="orgheadline2"><span class="section-number-2">2</span> 只有 <code>boolean</code> 有真假</h2>
<div class="outline-text-2" id="text-2">
<p>

</p>

<p>
由于Java是强类型语言， 只有 <code>boolean</code> 有真假。尤其要注意的是不能把 <code>int</code> 或者 <code>float</code> 的非零值当 <code>true</code> 来处理。 在使用 <code>if</code> 语句时， 比如 <code>if(a)</code> ，条件判断语句 <code>a</code> 必须是 <code>boolean</code> 类型。如果要用非 <code>boolean</code> 类型来做判断，则需要用这个非 <code>boolean</code> 类型的变量来生成一个 <code>boolean</code> 变量。比如对非布尔变量 <code>a</code> 做对比 <code>(a =</code> 0)= .
</p>
</div>
</div>
<div id="outline-container-orgheadline3" class="outline-2">
<h2 id="orgheadline3"><span class="section-number-2">3</span> 注意 <code>a=b</code> 问题</h2>
<div class="outline-text-2" id="text-3">
<p>

</p>

<p>
在 <code>if</code> 的条件判断句中，最容易犯的错误是: <code>a=b</code> . 本意是要比较 <code>a</code> 和 <code>b</code> 是否相等，但是 <code>a=b</code> 是赋值语句。这样的语句在 <code>C/C++</code> 中不会报错，但是存在逻辑错误，但是在java中，这样的语句一定会报错。看代码：
</p>
<div class="org-src-container">

<pre class="src src-java"><span class="linenr"> 1: </span><span style="color: #586e75;">//</span><span style="color: #586e75;">:control/IfElse.java</span>
<span class="linenr"> 2: </span><span style="color: #859900; font-weight: bold;">import</span> <span style="color: #859900; font-weight: bold;">static</span> <span style="color: #268bd2; font-weight: bold;">net</span>.<span style="color: #268bd2; font-weight: bold;">mindview</span>.<span style="color: #268bd2; font-weight: bold;">util</span>.<span style="color: #268bd2; font-weight: bold;">Print</span>.*;
<span class="linenr"> 3: </span><span style="color: #859900; font-weight: bold;">public</span> <span style="color: #859900; font-weight: bold;">class</span> <span style="color: #b58900;">IfElse</span>
<span class="linenr"> 4: </span><span style="color: #2aa198;">{</span>
<span class="linenr"> 5: </span>    <span style="color: #859900; font-weight: bold;">static</span> <span style="color: #b58900;">int</span> <span style="color: #268bd2;">result</span> = <span style="color: #6c71c4;">0</span>;
<span class="linenr"> 6: </span>    <span style="color: #859900; font-weight: bold;">static</span> <span style="color: #b58900;">void</span> <span style="color: #268bd2;">test</span><span style="color: #b58900;">(</span><span style="color: #b58900;">int</span> <span style="color: #268bd2;">testval</span>, <span style="color: #b58900;">int</span> <span style="color: #268bd2;">target</span><span style="color: #b58900;">)</span>
<span class="linenr"> 7: </span>    <span style="color: #b58900;">{</span>
<span class="linenr"> 8: </span>        <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #268bd2;">(</span>testval &gt; target<span style="color: #268bd2;">)</span> <span style="color: #268bd2;">{</span>
<span class="linenr"> 9: </span>            result = +<span style="color: #6c71c4;">1</span>;
<span class="linenr">10: </span>        <span style="color: #268bd2;">}</span><span style="color: #859900; font-weight: bold;">else</span> <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #268bd2;">(</span>testval &lt; <span style="color: #b58900;">target</span> <span style="color: #268bd2;">)</span> <span style="color: #268bd2;">{</span>
<span class="linenr">11: </span>            result = -<span style="color: #6c71c4;">1</span>;
<span class="linenr">12: </span>        <span style="color: #268bd2;">}</span>
<span class="linenr">13: </span>        <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #268bd2;">(</span>testval = target<span style="color: #268bd2;">)</span> <span style="color: #268bd2;">{</span>
<span class="linenr">14: </span>            result = <span style="color: #6c71c4;">0</span>;
<span class="linenr">15: </span>        <span style="color: #268bd2;">}</span>
<span class="linenr">16: </span>    <span style="color: #b58900;">}</span>
<span class="linenr">17: </span>    <span style="color: #859900; font-weight: bold;">public</span> <span style="color: #859900; font-weight: bold;">static</span> <span style="color: #b58900;">void</span> <span style="color: #268bd2;">main</span><span style="color: #b58900;">(</span><span style="color: #b58900;">String</span> <span style="color: #268bd2;">args</span><span style="color: #268bd2;">[]</span><span style="color: #b58900;">)</span>
<span class="linenr">18: </span>    <span style="color: #b58900;">{</span>
<span class="linenr">19: </span>        test<span style="color: #268bd2;">(</span><span style="color: #6c71c4;">6</span>,<span style="color: #6c71c4;">5</span><span style="color: #268bd2;">)</span>;
<span class="linenr">20: </span>        print<span style="color: #268bd2;">(</span>result<span style="color: #268bd2;">)</span>;
<span class="linenr">21: </span>        test<span style="color: #268bd2;">(</span><span style="color: #6c71c4;">5</span>,<span style="color: #6c71c4;">6</span><span style="color: #268bd2;">)</span>;
<span class="linenr">22: </span>  <span style="color: #b58900;"> </span>     print<span style="color: #268bd2;">(</span>result<span style="color: #268bd2;">)</span>;
<span class="linenr">23: </span>        test<span style="color: #268bd2;">(</span><span style="color: #6c71c4;">1</span>,<span style="color: #6c71c4;">1</span><span style="color: #268bd2;">)</span>;
<span class="linenr">24: </span>        print<span style="color: #268bd2;">(</span>result<span style="color: #268bd2;">)</span>;
<span class="linenr">25: </span>    <span style="color: #b58900;">}</span>
<span class="linenr">26: </span><span style="color: #2aa198;">}</span>
</pre>
</div>
<p>
第14行代码在编译的时候会报错：
</p>
<pre class="example">
IfElse.java:14: error: incompatible types: int cannot be converted to boolean
        if (testval = target) {
</pre>
<p>
<code>Java</code> 在编译阶段就避免了代码中可能因为 <code>a=b</code>  导致的逻辑错误。我认为这是 <code>Java</code> 相对于 <code>C/C++</code> 进步的地方。
</p>
</div>
</div>
<div id="outline-container-orgheadline4" class="outline-2">
<h2 id="orgheadline4"><span class="section-number-2">4</span> Random的导入</h2>
<div class="outline-text-2" id="text-4">
<p>

</p>

<p>
在完成 <code>Exercise02</code> 的过程中，忘记导入 <code>import java.util.*</code> 导致无法使用 <code>Random</code> 类， 特此记录，看代码：
</p>
<div class="org-src-container">

<pre class="src src-java"><span class="linenr"> 1: </span><span style="color: #859900; font-weight: bold;">import</span> <span style="color: #268bd2; font-weight: bold;">java</span>.<span style="color: #268bd2; font-weight: bold;">util</span>.*;
<span class="linenr"> 2: </span><span style="color: #859900; font-weight: bold;">public</span> <span style="color: #859900; font-weight: bold;">class</span> <span style="color: #b58900;">Exercise0502</span>
<span class="linenr"> 3: </span><span style="color: #2aa198;">{</span>
<span class="linenr"> 4: </span>    <span style="color: #859900; font-weight: bold;">public</span> <span style="color: #859900; font-weight: bold;">static</span> <span style="color: #b58900;">void</span> <span style="color: #268bd2;">main</span><span style="color: #b58900;">(</span><span style="color: #b58900;">String</span> <span style="color: #268bd2;">args</span><span style="color: #268bd2;">[]</span><span style="color: #b58900;">)</span>
<span class="linenr"> 5: </span>    <span style="color: #b58900;">{</span>
<span class="linenr"> 6: </span>        <span style="color: #b58900;">Random</span> <span style="color: #268bd2;">rand</span> = <span style="color: #859900; font-weight: bold;">new</span> <span style="color: #b58900;">Random</span><span style="color: #268bd2;">()</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>        <span style="color: #b58900;">int</span> <span style="color: #268bd2;">target</span> = rand.nextInt<span style="color: #268bd2;">()</span>;
<span class="linenr"> 9: </span>        <span style="color: #b58900;">int</span> <span style="color: #268bd2;">source</span>;
<span class="linenr">10: </span>        <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #268bd2;">(</span><span style="color: #b58900;">int</span> <span style="color: #268bd2;">j</span>=<span style="color: #6c71c4;">0</span>; j &lt; <span style="color: #6c71c4;">25</span>; j++<span style="color: #268bd2;">)</span> <span style="color: #268bd2;">{</span>
<span class="linenr">11: </span>            source = r<span style="color: #b58900;">and.ne</span>xtInt<span style="color: #6c71c4;">()</span>;
<span class="linenr">12: </span>            <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #6c71c4;">(</span>source &gt; target<span style="color: #6c71c4;">)</span>
<span class="linenr">13: </span>                System.out.println<span style="color: #6c71c4;">(</span> <span style="color: #2aa198;">"target "</span> + target + 
<span class="linenr">14: </span>                       <span style="color: #2aa198;">" &lt; "</span> + <span style="color: #2aa198;">" source "</span> + source<span style="color: #6c71c4;">)</span>;
<span class="linenr">15: </span>            <span style="color: #859900; font-weight: bold;">else</span> <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #6c71c4;">(</span>source &lt; <span style="color: #b58900;">target</span><span style="color: #6c71c4;">)</span> 
<span class="linenr">16: </span>                System.out.println<span style="color: #6c71c4;">(</span> <span style="color: #2aa198;">"target "</span> + target + 
<span class="linenr">17: </span>                       <span style="color: #2aa198;">" &gt; "</span> + <span style="color: #2aa198;">" source "</span> + source<span style="color: #6c71c4;">)</span>;
<span class="linenr">18: </span>            <span style="color: #859900; font-weight: bold;">else</span>
<span class="linenr">19: </span>                System.out.println<span style="color: #6c71c4;">(</span> <span style="color: #2aa198;">"target "</span> + target + 
<span class="linenr">20: </span>                       <span style="color: #2aa198;">" = "</span> + <span style="color: #2aa198;">" source "</span> + source<span style="color: #6c71c4;">)</span>;
<span class="linenr">21: </span>        <span style="color: #268bd2;">}</span>
<span class="linenr">22: </span>
<span class="linenr">23: </span>    <span style="color: #b58900;">}</span>
<span class="linenr">24: </span><span style="color: #2aa198;">}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline5" class="outline-2">
<h2 id="orgheadline5"><span class="section-number-2">5</span> <code>foreach</code></h2>
<div class="outline-text-2" id="text-5">
<p>

</p>

<p>
<code>foreach</code> 是 <code>C</code> 语言中不存在的一种循环表达方式，看代码：
</p>
<div class="org-src-container">

<pre class="src src-java"><span class="linenr"> 1: </span><span style="color: #859900; font-weight: bold;">import</span> <span style="color: #268bd2; font-weight: bold;">java</span>.<span style="color: #268bd2; font-weight: bold;">util</span>.*;
<span class="linenr"> 2: </span><span style="color: #859900; font-weight: bold;">public</span> <span style="color: #859900; font-weight: bold;">class</span> <span style="color: #b58900;">ForEachFloat</span>
<span class="linenr"> 3: </span><span style="color: #2aa198;">{</span>
<span class="linenr"> 4: </span>    <span style="color: #859900; font-weight: bold;">public</span> <span style="color: #859900; font-weight: bold;">static</span> <span style="color: #b58900;">void</span> <span style="color: #268bd2;">main</span><span style="color: #b58900;">(</span><span style="color: #b58900;">String</span><span style="color: #268bd2;">[]</span> <span style="color: #268bd2;">args</span><span style="color: #b58900;">)</span>
<span class="linenr"> 5: </span>    <span style="color: #b58900;">{</span>
<span class="linenr"> 6: </span>        <span style="color: #b58900;">Random</span> <span style="color: #268bd2;">rand</span> = <span style="color: #859900; font-weight: bold;">new</span> <span style="color: #b58900;">Random</span><span style="color: #268bd2;">()</span>;
<span class="linenr"> 7: </span>        <span style="color: #b58900;">float</span> <span style="color: #268bd2;">f</span><span style="color: #268bd2;">[]</span> =  <span style="color: #859900; font-weight: bold;">new</span> <span style="color: #b58900;">float</span><span style="color: #268bd2;">[</span><span style="color: #6c71c4;">10</span><span style="color: #268bd2;">]</span>;
<span class="linenr"> 8: </span>        <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #268bd2;">(</span><span style="color: #b58900;">int</span> <span style="color: #268bd2;">i</span> = <span style="color: #6c71c4;">0</span>; i &lt; <span style="color: #6c71c4;">10</span>; i++<span style="color: #268bd2;">)</span> <span style="color: #268bd2;">{</span>
<span class="linenr"> 9: </span>            f<span style="color: #6c71c4;">[</span>i<span style="color: #6c71c4;">]</span> = rand.nextFloat<span style="color: #6c71c4;">()</span>;
<span class="linenr">10: </span>        <span style="color: #268bd2;">}</span>
<span class="linenr">11: </span>        <span style="color: #859900; font-weight: bold;">for</span> <span style="color: #268bd2;">(</span><span style="color: #b58900;">float</span> <span style="color: #268bd2;">x</span> : f<span style="color: #268bd2;">)</span> <span style="color: #268bd2;">{</span>
<span class="linenr">12: </span>            System.out.println<span style="color: #6c71c4;">(</span><span style="color: #b58900;">x</span><span style="color: #6c71c4;">)</span>;
<span class="linenr">13: </span>        <span style="color: #268bd2;">}</span>
<span class="linenr">14: </span>
<span class="linenr">15: </span>    <span style="color: #b58900;">}</span>
<span class="linenr">16: </span><span style="color: #2aa198;">}</span>
</pre>
</div>
<p>
<code>foreach</code> 可以配合任何 <code>Iterable</code> 对象。 <code>Python</code> 中有一类数据叫做 <code>iterator</code> 其抽象程度比 <code>Java</code> 的 <code>foreach</code> 中用到的 <code>Iterable</code> 对象更高。
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'zclspace';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>
</body>
</html>
